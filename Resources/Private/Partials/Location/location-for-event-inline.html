{namespace cal=Tx\CzSimpleCal\ViewHelpers}
<cal:useMicroformat format="hcard" />
<p>
<f:translate key="location" />:
<span class="vcard">
<f:if condition="{location.company}">
	<f:then><strong class="fn org">{location.company}</strong></f:then>
	<f:else>
		<cal:arrays.join by=", " removeEmpty="1">
			<f:if condition="{location.address}">
				<cal:arrays.joinItem><span class="street-address">{location.address}</span></cal:arrays.joinItem>
			</f:if>
			<f:if condition="{cal:condition.oneNotEmpty(values: {0: location.zip, 1:location.city})}" >
				<cal:arrays.joinItem>
					<f:if condition="{location.zip}"><span class="postal-code">{location.zip}</span></f:if>
					<f:if condition="{location.city}"><span class="locality">{location.city}</span></f:if>
				</cal:arrays.joinItem>
			</f:if>
		</cal:arrays.join>
	</f:else>
</f:if>
<f:if condition="{cal:condition.oneNotEmpty(values: {0: location.email, 1:location.www, 2:location.phone, 3:location.mobile})}" >
(<cal:arrays.join by=", " removeEmpty="1">
	<f:if condition="{cal:condition.oneNotEmpty(values: {0: location.phone, 1:location.mobile})}">
		<cal:arrays.joinItem><span class="tel"><f:if condition="{location.mobile}" then="{location.mobile}" else="{location.phone}" /></span></cal:arrays.joinItem>
	</f:if>
	<f:if condition="{location.email}">
		<cal:arrays.joinItem><f:link.email email="{location.email}" /></cal:arrays.joinItem>
	</f:if>
	<f:if condition="{location.www}">
		<cal:arrays.joinItem><span class="url"><f:link.external uri="{location.www}" /></span></cal:arrays.joinItem>
	</f:if>
</cal:arrays.join>)
</f:if>
</span>
</p>